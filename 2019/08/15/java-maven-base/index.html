
 <!DOCTYPE HTML>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
  
    <title>Maven 使用快速入门 | techbird blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="techbird">
    

    
    <meta name="description" content="概念Maven是基于项目对象模型(POM)，可以通过一小段描述信息来管理项目的构建，报告和文档的软件项目管理工具。Maven是跨平台的项目管理工具，主要服务于基于Java平台的项目构建，依赖管理和项目信息管理，方便jar包的管理且不需要上传至代码托管服务器。类似于iOS平台的 cocoapods 和 android 平台的 gradle。 安装 Maven for mac下载 Maven从 Mav">
<meta property="og:type" content="article">
<meta property="og:title" content="Maven 使用快速入门">
<meta property="og:url" content="https://hashcode.cn/2019/08/15/java-maven-base/index.html">
<meta property="og:site_name" content="techbird blog">
<meta property="og:description" content="概念Maven是基于项目对象模型(POM)，可以通过一小段描述信息来管理项目的构建，报告和文档的软件项目管理工具。Maven是跨平台的项目管理工具，主要服务于基于Java平台的项目构建，依赖管理和项目信息管理，方便jar包的管理且不需要上传至代码托管服务器。类似于iOS平台的 cocoapods 和 android 平台的 gradle。 安装 Maven for mac下载 Maven从 Mav">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-spring-core.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-dependency-scope.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-transport-dependency.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-optional-dependency.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-exclusions-dependency.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-tomcat-run.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-concept-model.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-project-lifecycle.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-setting.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-create-web-project.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-create-project-gav.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-project-mul.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-create-pp.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-project-catalogue.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-project-adddir.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-make-as-source-root.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-servlet-error.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-pom-add-gav.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-depedency-scope02.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-pom-tomcat7.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-tomcat7-run.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-type-tomcat7-run.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-tomcat7-run02.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-port-conflict.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-debug-edit.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-debug-option.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-debug-edit-fill.png">
<meta property="og:image" content="https://hashcode.cn/images/tech/maven-idea-debug-window-btn.png">
<meta property="article:published_time" content="2019-08-15T02:02:47.000Z">
<meta property="article:modified_time" content="2020-11-20T06:12:25.803Z">
<meta property="article:author" content="techbird">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Web">
<meta property="article:tag" content="Maven">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hashcode.cn/images/tech/maven-spring-core.png">
<meta name="twitter:creator" content="@murendless">

    
    <link rel="alternative" href="/atom.xml" title="techbird blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/%02.css">
<link rel="stylesheet" href="/.css">

<meta name="generator" content="Hexo 4.2.0"></head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="techbird blog" title="techbird blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="techbird blog">techbird blog</a></h1>
				<h2 class="blog-motto">timeline of growth</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives/">Archives</a></li>
					
						<li><a href="/about/">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:hashcode.cn">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/08/15/java-maven-base/" title="Maven 使用快速入门" itemprop="url">Maven 使用快速入门</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="techbird" target="_blank" itemprop="author">techbird</a>
		
  <p class="article-time">
    <time datetime="2019-08-15T02:02:47.000Z" itemprop="datePublished"> Published 2019-08-15 10:02</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#概念"><span class="toc-number">1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#安装-Maven-for-mac"><span class="toc-number">2.</span> <span class="toc-text">安装 Maven for mac</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#下载-Maven"><span class="toc-number">2.1.</span> <span class="toc-text">下载 Maven</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#将-Maven-添加到环境变量"><span class="toc-number">2.2.</span> <span class="toc-text">将 Maven 添加到环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#测试-Maven-是否安装成功"><span class="toc-number">2.3.</span> <span class="toc-text">测试 Maven 是否安装成功</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven-仓库"><span class="toc-number">3.</span> <span class="toc-text">Maven 仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#本地仓库"><span class="toc-number">3.1.</span> <span class="toc-text">本地仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#远程仓库"><span class="toc-number">3.2.</span> <span class="toc-text">远程仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#中央仓库"><span class="toc-number">3.3.</span> <span class="toc-text">中央仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置仓库路径"><span class="toc-number">3.4.</span> <span class="toc-text">配置仓库路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#修改-settings-xml"><span class="toc-number">3.5.</span> <span class="toc-text">修改 settings.xml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-项目结构"><span class="toc-number">3.6.</span> <span class="toc-text">Maven 项目结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven常用命令"><span class="toc-number">4.</span> <span class="toc-text">Maven常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-compile"><span class="toc-number">4.1.</span> <span class="toc-text">mvn compile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-clean"><span class="toc-number">4.2.</span> <span class="toc-text">mvn clean</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-test"><span class="toc-number">4.3.</span> <span class="toc-text">mvn test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-package"><span class="toc-number">4.4.</span> <span class="toc-text">mvn package</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-install"><span class="toc-number">4.5.</span> <span class="toc-text">mvn install</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-组合命令"><span class="toc-number">4.6.</span> <span class="toc-text">mvn 组合命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven-的核心概念"><span class="toc-number">5.</span> <span class="toc-text">Maven 的核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#坐标的查找"><span class="toc-number">5.1.</span> <span class="toc-text">坐标的查找</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#依赖管理"><span class="toc-number">5.2.</span> <span class="toc-text">依赖管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#scope-依赖范围"><span class="toc-number">5.2.1.</span> <span class="toc-text">scope 依赖范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#依赖传递"><span class="toc-number">5.2.2.</span> <span class="toc-text">依赖传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#依赖冲突"><span class="toc-number">5.2.3.</span> <span class="toc-text">依赖冲突</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#可选依赖"><span class="toc-number">5.2.4.</span> <span class="toc-text">可选依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#排除依赖"><span class="toc-number">5.2.5.</span> <span class="toc-text">排除依赖</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#生命周期"><span class="toc-number">5.3.</span> <span class="toc-text">生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Clean生命周期：清理项目"><span class="toc-number">5.3.1.</span> <span class="toc-text">Clean生命周期：清理项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Default生命周期：构造项目"><span class="toc-number">5.3.2.</span> <span class="toc-text">Default生命周期：构造项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-工程的运行"><span class="toc-number">5.4.</span> <span class="toc-text">Maven 工程的运行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-的概念模型"><span class="toc-number">5.5.</span> <span class="toc-text">Maven 的概念模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#项目对象模型-Project-Object-Model"><span class="toc-number">5.5.1.</span> <span class="toc-text">项目对象模型 (Project Object Model)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#依赖管理系统-Dependency-Management-System"><span class="toc-number">5.5.2.</span> <span class="toc-text">依赖管理系统(Dependency Management System)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一个项目生命周期-Project-Lifecycle"><span class="toc-number">5.5.3.</span> <span class="toc-text">一个项目生命周期(Project Lifecycle)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一组标准集合"><span class="toc-number">5.5.4.</span> <span class="toc-text">一组标准集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#插件-plugin-目标-goal"><span class="toc-number">5.5.5.</span> <span class="toc-text">插件(plugin)目标(goal)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#IDEA-开发-Maven-项目"><span class="toc-number">6.</span> <span class="toc-text">IDEA 开发 Maven 项目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA-的-Maven-配置"><span class="toc-number">6.1.</span> <span class="toc-text">IDEA 的 Maven 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA-中创建一个-Maven-的-web-工程"><span class="toc-number">6.2.</span> <span class="toc-text">IDEA 中创建一个 Maven 的 web 工程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个-Servlet"><span class="toc-number">6.2.1.</span> <span class="toc-text">创建一个 Servlet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在-pom-xml-文件添加坐标"><span class="toc-number">6.2.2.</span> <span class="toc-text">在 pom.xml 文件添加坐标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#依赖范围"><span class="toc-number">6.3.</span> <span class="toc-text">依赖范围</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#测试总结"><span class="toc-number">6.3.1.</span> <span class="toc-text">测试总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置-JDK-编译版本"><span class="toc-number">6.4.</span> <span class="toc-text">设置 JDK 编译版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加-tomcat7-插件"><span class="toc-number">6.5.</span> <span class="toc-text">添加 tomcat7 插件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven-工程运行调试"><span class="toc-number">7.</span> <span class="toc-text">Maven 工程运行调试</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#端口占用处理"><span class="toc-number">7.1.</span> <span class="toc-text">端口占用处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#断点调试"><span class="toc-number">7.2.</span> <span class="toc-text">断点调试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pom-文件描述"><span class="toc-number">7.3.</span> <span class="toc-text">pom 文件描述</span></a></li></ol></li></ol>
		
		</div>
		
		<h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><p>Maven是基于项目对象模型(POM)，可以通过一小段描述信息来管理项目的构建，报告和文档的软件项目管理工具。Maven是跨平台的项目管理工具，主要服务于基于Java平台的项目构建，依赖管理和项目信息管理，方便jar包的管理且不需要上传至代码托管服务器。类似于iOS平台的 cocoapods 和 android 平台的 gradle。</p>
<h1 id="安装-Maven-for-mac"><a href="#安装-Maven-for-mac" class="headerlink" title="安装 Maven for mac"></a>安装 Maven for mac</h1><h2 id="下载-Maven"><a href="#下载-Maven" class="headerlink" title="下载 Maven"></a>下载 Maven</h2><p>从 Maven 官方地址：<a href="http://maven.apache.org/download.cgi" target="_blank" rel="noopener">http://maven.apache.org/download.cgi</a> 下载最新版本 apache-maven-3.6.1-bin.tar.gz。<br>bin:存放了 maven 的命令，比如我们前面用到的 mvn tomcat:run<br>boot:存放了一些 maven 本身的引导程序，如类加载器等<br>conf:存放了 maven 的一些配置文件，如 setting.xml 文件<br>lib:存放了 maven 本身运行所需的一些 jar 包</p>
<h2 id="将-Maven-添加到环境变量"><a href="#将-Maven-添加到环境变量" class="headerlink" title="将 Maven 添加到环境变量"></a>将 Maven 添加到环境变量</h2><p>Maven 下载完毕后，解压到环境变量集合的位置，将其解压在 /usr/local/maven 目录下。<br>然后在终端中，执行如下命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">open ~/.bash_profile</span><br></pre></td></tr></table></figure>
<p>打开.bash_profile后，在里面添加如下的 maven 配置：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Maven config</span></span><br><span class="line"><span class="built_in">export</span> M3_HOME=/usr/<span class="built_in">local</span>/maven/apache-maven-3.6.1</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$M3_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<p>保存并关闭文件，然后执行以下命令使最新的环境变量生效：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>
<h2 id="测试-Maven-是否安装成功"><a href="#测试-Maven-是否安装成功" class="headerlink" title="测试 Maven 是否安装成功"></a>测试 Maven 是否安装成功</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$M3_HOME</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<p>若输出结果是类似以下的值则表明配置没有问题</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/maven/maven3.3.9</span><br><span class="line">/usr/<span class="built_in">local</span>/maven/maven3.3.9/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/bin:/Users/qiudengqiang/.nvm/versions/node/v9.11.1/bin:/usr/<span class="built_in">local</span>/opt/openssl/bin:/usr/<span class="built_in">local</span>/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/VMware Fusion.app/Contents/Public:/Users/qiudengqiang/.rvm/bin::/usr/<span class="built_in">local</span>/mysql/bin</span><br></pre></td></tr></table></figure>
<p>接下来用maven 的命令查看 maven 版本，鉴定Maven 环境是否安装成功。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn -version</span><br></pre></td></tr></table></figure>
<p>成功时输入以下日志</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Apache Maven 3.6.1 (d66c9c0b3152b2e69ee9bac180bb8fcc8e6af555; 2019-04-05T03:00:29+08:00)</span><br><span class="line">Maven home: /usr/<span class="built_in">local</span>/maven/apache-maven-3.6.1</span><br><span class="line">Java version: 1.8.0_66, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_66.jdk/Contents/Home/jre</span><br><span class="line">Default locale: zh_CN, platform encoding: UTF-8</span><br><span class="line">OS name: <span class="string">"mac os x"</span>, version: <span class="string">"10.14.4"</span>, arch: <span class="string">"x86_64"</span>, family: <span class="string">"mac"</span></span><br></pre></td></tr></table></figure>
<p>至此，maven for mac 环境就配置好了。</p>
<h1 id="Maven-仓库"><a href="#Maven-仓库" class="headerlink" title="Maven 仓库"></a>Maven 仓库</h1><p>maven 的工作需要从仓库下载一些 jar 包，假如本地的项目 A、项目 B 等都会通过 maven 软件从远程仓库(可以理解为互联网上的仓库)下载 jar 包并存在本地仓库，本地仓库 就是本地文件夹，当第二次需要此 jar 包时则不再从远程仓库下载，因为本地仓库已经存在了，可以将本地仓库理解为缓存，有了本地仓库就不用每次从远程仓库下载了。</p>
<h2 id="本地仓库"><a href="#本地仓库" class="headerlink" title="本地仓库"></a>本地仓库</h2><p>本地仓库 :用来存储从远程仓库或中央仓库下载的插件和 jar 包，项目使用一些插件或 jar 包， 优先从本地仓库查找<br>仓库默认的目录在用户目录下：/Users/qiudengqiang/.m2/repository</p>
<h2 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h2><p>远程仓库:如果本地需要插件或者 jar 包，本地仓库没有，默认去远程仓库下载。 远程仓库可以在互联网内也可以在公司的局域网内</p>
<h2 id="中央仓库"><a href="#中央仓库" class="headerlink" title="中央仓库"></a>中央仓库</h2><p>在 maven 软件中内置一个远程仓库地址 <a href="http://repo1.maven.org/maven2" target="_blank" rel="noopener">http://repo1.maven.org/maven2</a> ，它是中央仓库，服务于整个互联网，它是由 Maven 团队自己维护，里面存储了非常全的 jar 包，它包含了世界上大部分流行的开源项目构件。</p>
<h2 id="配置仓库路径"><a href="#配置仓库路径" class="headerlink" title="配置仓库路径"></a>配置仓库路径</h2><p>在与bin同级目录的conf/settings.xml</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- localRepository</span><br><span class="line">  | The path to the local repository maven will use to store artifacts.</span><br><span class="line">  |</span><br><span class="line">  | Default: $&#123;user.home&#125;&#x2F;.m2&#x2F;repository</span><br><span class="line"> &lt;localRepository&gt;&#x2F;path&#x2F;to&#x2F;local&#x2F;repo&lt;&#x2F;localRepository&gt;</span><br><span class="line"> --&gt;</span><br></pre></td></tr></table></figure>
<p>在终端中输入:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn <span class="built_in">help</span>:system</span><br></pre></td></tr></table></figure>
<p>maven默认会从上面的服务器(中央仓库) 下载 jar包到本地。</p>
<h2 id="修改-settings-xml"><a href="#修改-settings-xml" class="headerlink" title="修改 settings.xml"></a>修改 settings.xml</h2><p>在mirrors中添加下面的内容，使用阿里云服务器下载jar包，因为国外的下载太慢了，把国外的注释不用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;mirrors&gt;</span><br><span class="line">  &lt;!-- mirror</span><br><span class="line">   | Specifies a repository mirror site to use instead of a given repository. The repository that</span><br><span class="line">   | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</span><br><span class="line">   | <span class="keyword">for</span> inheritance and direct lookup purposes, and must be unique across the <span class="built_in">set</span> of mirrors.</span><br><span class="line">   |</span><br><span class="line">  &lt;mirror&gt;</span><br><span class="line">    &lt;id&gt;mirrorId&lt;/id&gt;</span><br><span class="line">    &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</span><br><span class="line">    &lt;name&gt;Human Readable Name <span class="keyword">for</span> this Mirror.&lt;/name&gt;</span><br><span class="line">    &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;</span><br><span class="line">  &lt;/mirror&gt;</span><br><span class="line">   --&gt;</span><br><span class="line">   &lt;!-- 阿里云maven--&gt;</span><br><span class="line">  &lt;mirror&gt;</span><br><span class="line">    &lt;id&gt;alimaven&lt;/id&gt;</span><br><span class="line">    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span><br><span class="line">    &lt;name&gt;aliyun maven&lt;/name&gt;</span><br><span class="line">    &lt;url&gt;http://maven.aliyun.com/nexus/content/repositories/central/&lt;/url&gt;</span><br><span class="line">  &lt;/mirror&gt;</span><br><span class="line">&lt;/mirrors&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Maven-项目结构"><a href="#Maven-项目结构" class="headerlink" title="Maven 项目结构"></a>Maven 项目结构</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ProjectName</span><br><span class="line">  |-src</span><br><span class="line">  |   |-main</span><br><span class="line">  |   |  |-java        —— 存放项目的.java文件</span><br><span class="line">  |   |  |-resources   —— 存放项目资源文件，如spring, hibernate配置文件</span><br><span class="line">  |   |-<span class="built_in">test</span></span><br><span class="line">  |      |-java        ——存放所有测试.java文件，如JUnit测试类</span><br><span class="line">  |      |-resources   —— 测试资源文件</span><br><span class="line">  |-target             —— 目标文件输出位置例如.class、.jar、.war文件</span><br><span class="line">  |-pom.xml           ——maven项目核心配置文件</span><br></pre></td></tr></table></figure>
<p>「注」：如果是普通的 java 项目，那么就没有 webapp 目录。</p>
<h1 id="Maven常用命令"><a href="#Maven常用命令" class="headerlink" title="Maven常用命令"></a>Maven常用命令</h1><h2 id="mvn-compile"><a href="#mvn-compile" class="headerlink" title="mvn compile"></a>mvn compile</h2><p>完成编译操作<br>执行完毕后，会生成target目录，该目录中存放了编译后的字节码文件。</p>
<h2 id="mvn-clean"><a href="#mvn-clean" class="headerlink" title="mvn clean"></a>mvn clean</h2><p>执行完毕后，会将target目录删除。</p>
<h2 id="mvn-test"><a href="#mvn-test" class="headerlink" title="mvn test"></a>mvn test</h2><p>完成单元测试操作<br>执行完毕后，会在target目录中生成三个文件夹：surefire、surefire-reports（测试报告）、test-classes（测试的字节码文件）</p>
<h2 id="mvn-package"><a href="#mvn-package" class="headerlink" title="mvn package"></a>mvn package</h2><p>完成打包操作<br>执行完毕后，会在target目录中生成一个文件，该文件可能是jar、war（可以在配置文件中制定目标格式）</p>
<h2 id="mvn-install"><a href="#mvn-install" class="headerlink" title="mvn install"></a>mvn install</h2><p>执行 mvn install命令，完成将打好的jar包安装到本地仓库的操作<br>执行完毕后，会在本地仓库中出现安装后的jar包，方便其他工程引用</p>
<h2 id="mvn-组合命令"><a href="#mvn-组合命令" class="headerlink" title="mvn 组合命令"></a>mvn 组合命令</h2><p>mvn clean compile<br>mvn clean test<br>mvn clean package<br>mvn clean install</p>
<h1 id="Maven-的核心概念"><a href="#Maven-的核心概念" class="headerlink" title="Maven 的核心概念"></a>Maven 的核心概念</h1><p>在平面几何中坐标（x,y）可以标识平面中唯一的一点。在maven中坐标就是为了定位一个唯一确定的jar包。我们需要找一个用来唯一标识一个构建的统一规范，拥有了统一规范，就可以把查找工作交给机器，Maven坐标主要组成(GAV) 确定一个jar在互联网位置。<br>groupId：定义当前Maven组织名称<br>artifactId：定义实际项目名称<br>version：定义当前项目的当前版本</p>
<h2 id="坐标的查找"><a href="#坐标的查找" class="headerlink" title="坐标的查找"></a>坐标的查找</h2><p>访问<a href="http://www.mvnrepository.com或者http://search.maven.org/网站" target="_blank" rel="noopener">http://www.mvnrepository.com或者http://search.maven.org/网站</a><br>假设搜索所spring core,如图然后点击sping,接点选择所需要的版本，就能看到所需要的jar包了<br><img src="/images/tech/maven-spring-core.png" alt="spring core"></p>
<h2 id="依赖管理"><a href="#依赖管理" class="headerlink" title="依赖管理"></a>依赖管理</h2><h3 id="scope-依赖范围"><a href="#scope-依赖范围" class="headerlink" title="scope 依赖范围"></a>scope 依赖范围</h3><p><img src="/images/tech/maven-dependency-scope.png" alt="spring core"></p>
<p>其中依赖范围scope 用来控制依赖和编译，测试，运行的 classpath 的关系. 主要的是三种依赖关系如下：</p>
<ul>
<li><code>compile</code> ： 默认编译依赖范围。对于编译，测试，运行三种classpath都有效</li>
<li><code>test</code> ：测试依赖范围。只对于测试classpath有效</li>
<li><code>provided</code> ：已提供依赖范围。对于编译，测试的classpath都有效，但对于运行无效。因为由容器已经提供，例如servlet-api</li>
<li><code>runtime</code> :运行时提供。例如:jdbc驱动</li>
</ul>
<h3 id="依赖传递"><a href="#依赖传递" class="headerlink" title="依赖传递"></a>依赖传递</h3><p>直接依赖和间接依赖<br>test2 依赖 test1，test3依赖test2<br>test2 直接依赖 test1，test3间接依赖test1<br><img src="/images/tech/maven-transport-dependency.png" alt="transport dependency"><br>当第二依赖的范围是compile的时候，依赖可以传递<br>当第二直接依赖的范围是test的时候，依赖不会传递<br>provided和runtime一般很少用</p>
<h3 id="依赖冲突"><a href="#依赖冲突" class="headerlink" title="依赖冲突"></a>依赖冲突</h3><p>假如test1使用junit4.10依赖,并且scope是compile,那test2,test3都可以使用test1的junit4.10，因为传递下来了<br>假如test2使用junit4.9依赖，那test3会使用【就近的一个依赖】，也就是使用junit4.9</p>
<h3 id="可选依赖"><a href="#可选依赖" class="headerlink" title="可选依赖"></a>可选依赖</h3><p><code>&lt;optional&gt; true/false&lt;optional&gt;</code> 是否可选，也可以理解为是否向下传递。<br>在依赖中添加optional选项决定此依赖是否向下传递，如果是true则不传递，如果是false就传递，默认为false<br><img src="/images/tech/maven-optional-dependency.png" alt="optional dependency"></p>
<h3 id="排除依赖"><a href="#排除依赖" class="headerlink" title="排除依赖"></a>排除依赖</h3><p>exclusions可用于排除依赖,注意exclusions是写在dependency中<br><img src="/images/tech/maven-exclusions-dependency.png" alt="optional dependency"></p>
<h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><p>Maven生命周期就是为了对所有的构建过程进行抽象和统一。<br>包括项目清理、初始化、编译、打包、测试、部署等几乎所有构建步骤。<br>生命周期可以理解为构建工程的步骤。</p>
<p>在Maven中有三套相互独立的生命周期，请注意这里说的是“三套”，而且“相互独立”，这三套生命周期分别是：<br>Clean Lifecycle： 在进行真正的构建之前进行一些清理工作。<br>Default Lifecycle： 构建的核心部分，编译，测试，打包，部署等等。<br>Site Lifecycle： 生成项目报告，站点，发布站点。 </p>
<h3 id="Clean生命周期：清理项目"><a href="#Clean生命周期：清理项目" class="headerlink" title="Clean生命周期：清理项目"></a>Clean生命周期：清理项目</h3><p>pre-clean 执行一些需要在clean之前完成的工作<br>clean 移除所有上一次构建生成的文件<br>post-clean 执行一些需要在clean之后立刻完成的工作 </p>
<p>也就是说，mvn clean 等同于 mvn pre-clean clean<br>如果我们运行 mvn post-clean ，那么 pre-clean，clean 都会被运行。<br>这是Maven很重要的一个规则，可以大大简化命令行的输入。</p>
<h3 id="Default生命周期：构造项目"><a href="#Default生命周期：构造项目" class="headerlink" title="Default生命周期：构造项目"></a>Default生命周期：构造项目</h3><p>Default生命周期是Maven生命周期中最重要的一个，绝大部分工作都发生在这个生命周期中。这里，只解释一些比较重要和常用的阶段</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">validate </span><br><span class="line">generate-sources </span><br><span class="line">process-sources </span><br><span class="line">generate-resources </span><br><span class="line">process-resources 复制并处理资源文件，至目标目录，准备打包。 </span><br><span class="line">compile 编译项目的源代码。 </span><br><span class="line">process-classes </span><br><span class="line">generate-test-sources </span><br><span class="line">process-test-sources </span><br><span class="line">generate-test-resources </span><br><span class="line">process-test-resources 复制并处理资源文件，至目标测试目录。 </span><br><span class="line"><span class="built_in">test</span>-compile 编译测试源代码。 </span><br><span class="line">process-test-classes </span><br><span class="line"><span class="built_in">test</span> 使用合适的单元测试框架运行测试。这些测试代码不会被打包或部署。 </span><br><span class="line">prepare-package </span><br><span class="line">package 接受编译好的代码，打包成可发布的格式，如 JAR 。 </span><br><span class="line">pre-integration-test </span><br><span class="line">integration-test </span><br><span class="line">post-integration-test </span><br><span class="line">verify </span><br><span class="line">install 将包安装至本地仓库，以让其它项目依赖。 </span><br><span class="line">deploy 将最终的包复制到远程的仓库，以让其它开发人员与项目共享</span><br></pre></td></tr></table></figure>
<p>运行任何一个阶段的时候，它前面的所有阶段都会被运行<br>这也就是为什么我们运行mvn install 的时候，代码会被编译，测试，打包，安装到本地仓库<br>此外，Maven的插件机制是完全依赖Maven的生命周期的，因此理解生命周期至关重要。</p>
<h2 id="Maven-工程的运行"><a href="#Maven-工程的运行" class="headerlink" title="Maven 工程的运行"></a>Maven 工程的运行</h2><p>进入 maven 工程目录(当前目录有 pom.xml 文件)，运行 tomcat:run 命令。<br><img src="/images/tech/maven-tomcat-run.png" alt="maven-tomcat-run"><br>根据上边的提示信息，通过浏览器访问:<a href="http://localhost:8080/maven-helloworld/" target="_blank" rel="noopener">http://localhost:8080/maven-helloworld/</a></p>
<h2 id="Maven-的概念模型"><a href="#Maven-的概念模型" class="headerlink" title="Maven 的概念模型"></a>Maven 的概念模型</h2><p><img src="/images/tech/maven-concept-model.png" alt="maven-tomcat-run"></p>
<h3 id="项目对象模型-Project-Object-Model"><a href="#项目对象模型-Project-Object-Model" class="headerlink" title="项目对象模型 (Project Object Model)"></a>项目对象模型 (Project Object Model)</h3><p>一个 maven 工程都有一个 pom.xml 文件，通过 pom.xml 文件定义项目的坐标、项目依赖、项目信息、 插件目标等。</p>
<h3 id="依赖管理系统-Dependency-Management-System"><a href="#依赖管理系统-Dependency-Management-System" class="headerlink" title="依赖管理系统(Dependency Management System)"></a>依赖管理系统(Dependency Management System)</h3><p>通过maven的依赖管理对项目所依赖的jar 包进行统一管理。<br>比如:项目依赖 junit4.9，通过在 pom.xml 中定义 junit4.9 的依赖即使用 junit4.9，如下所示是 junit4.9 的依赖定义:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 依赖关系 --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 此项目运行使用 junit，所以此项目依赖 junit --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- junit 的项目名称 --&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span> </span><br><span class="line">        <span class="comment">&lt;!-- junit 的模块名称 --&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line">        <span class="comment">&lt;!-- junit 版本 --&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 依赖范围:单元测试时使用 junit --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="一个项目生命周期-Project-Lifecycle"><a href="#一个项目生命周期-Project-Lifecycle" class="headerlink" title="一个项目生命周期(Project Lifecycle)"></a>一个项目生命周期(Project Lifecycle)</h3><p>使用 maven 完成项目的构建，项目构建包括:清理、编译、测试、部署等过程，maven 将这些<br>过程规范为一个生命周期，如下所示是生命周期的各个阶段:<br><img src="/images/tech/maven-project-lifecycle.png" alt="maven-project-life-cycle"><br>maven 通过执行一些简单命令即可实现上边生命周期的各各过程，比如执行 mvn compile 执行编译、<br>执行 mvn clean 执行清理。</p>
<h3 id="一组标准集合"><a href="#一组标准集合" class="headerlink" title="一组标准集合"></a>一组标准集合</h3><p>maven 将整个项目管理过程定义一组标准，比如:通过 maven 构建工程有标准的目录结构，有<br>标准的生命周期阶段、依赖管理有标准的坐标定义等。</p>
<h3 id="插件-plugin-目标-goal"><a href="#插件-plugin-目标-goal" class="headerlink" title="插件(plugin)目标(goal)"></a>插件(plugin)目标(goal)</h3><p>maven 管理项目生命周期过程都是基于插件完成的。</p>
<h1 id="IDEA-开发-Maven-项目"><a href="#IDEA-开发-Maven-项目" class="headerlink" title="IDEA 开发 Maven 项目"></a>IDEA 开发 Maven 项目</h1><p>在通常在开发的环境中，我们都会使用流行的工具来开发项目。</p>
<h2 id="IDEA-的-Maven-配置"><a href="#IDEA-的-Maven-配置" class="headerlink" title="IDEA 的 Maven 配置"></a>IDEA 的 Maven 配置</h2><p><img src="/images/tech/maven-idea-setting.png" alt="maven-idea-setting"></p>
<h2 id="IDEA-中创建一个-Maven-的-web-工程"><a href="#IDEA-中创建一个-Maven-的-web-工程" class="headerlink" title="IDEA 中创建一个 Maven 的 web 工程"></a>IDEA 中创建一个 Maven 的 web 工程</h2><p>打开 idea，选择创建一个新工程，选择 idea 提供好的 maven 的 web 工程模板<br><img src="/images/tech/maven-idea-create-web-project.png" alt="maven-idea-project"><br>点击 Next 填写项目信息<br><img src="/images/tech/maven-idea-create-project-gav.png" alt="maven-idea-project-gav"><br>点击 Next，此处不做改动。<br><img src="/images/tech/maven-idea-project-mul.png" alt="maven-idea-mul"><br>点击 Next 选择项目所在目录<br><img src="/images/tech/maven-idea-create-pp.png" alt="maven-idea-pp"><br>点击 Finish 后开始创建工程，耐心等待，直到出现如下界面。<br><img src="/images/tech/maven-idea-project-catalogue.png" alt="maven-idea-project-catalogue"><br>手动添加 src/main/java 目录，如下图右键 main 文件夹-New-Directory,创建一个新的文件夹命名为 java<br><img src="/images/tech/maven-idea-project-adddir.png" alt="maven-idea-project-adddir"><br>点击 OK 后，在新的文件夹 java 上右键 Make Directory as Sources Root<br><img src="/images/tech/maven-idea-make-as-source-root.png" alt="maven-idea-project-source-root"></p>
<h3 id="创建一个-Servlet"><a href="#创建一个-Servlet" class="headerlink" title="创建一个 Servlet"></a>创建一个 Servlet</h3><p>src/java/main 创建了一个 Servlet，但报错<br><img src="/images/tech/maven-idea-servlet-error.png" alt="maven-idea-project-servlet-error"><br>要解决问题，就是要将 servlet-api-xxx.jar 包放进来，作为 maven 工程应当添加 servlet 的坐标，从而 导入它的 jar</p>
<h3 id="在-pom-xml-文件添加坐标"><a href="#在-pom-xml-文件添加坐标" class="headerlink" title="在 pom.xml 文件添加坐标"></a>在 pom.xml 文件添加坐标</h3><p>直接打开 hello_maven 工程的 pom.xml 文件，再添加坐标<br><img src="/images/tech/maven-idea-pom-add-gav.png" alt="maven-idea-pom-add-gav"></p>
<p>添加 jar 包的坐标时，还可以指定这个 jar 包将来的作用范围。<br>每个 maven 工程都需要定义本工程的坐标，坐标是 maven 对 jar 包的身份定义，比如:入门程序的 坐标定义如下:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--项目名称，定义为组织名+项目名，类似包名--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itheima<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 模块名称 --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hello_maven<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 当前项目版本号，snapshot为快照版本即非正式版本，release为正式发布版本 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span> &gt;</span> :打包类型</span><br><span class="line">    jar:执行 package 会打成 jar 包</span><br><span class="line">    war:执行 package 会打成 war 包</span><br><span class="line">pom :用于 maven 工程的继承，通常父工程设置为 pom</span><br></pre></td></tr></table></figure>

<h2 id="依赖范围"><a href="#依赖范围" class="headerlink" title="依赖范围"></a>依赖范围</h2><p>A 依赖 B，需要在 A 的 pom.xml 文件中添加 B 的坐标，添加坐标时需要指定依赖范围，依赖范围包括:</p>
<p><code>compile</code>:编译范围，指 A 在编译时依赖 B，此范围为默认依赖范围。编译范围的依赖会用在 编译、测试、运行，由于运行时需要所以编译范围的依赖会被打包。<br><code>provided</code>:provided依赖只有在当JDK或者一个容器已提供该依赖之后才使用， provided依 赖在编译和测试时需要，在运行时不需要，比如:servlet api 被 tomcat 容器提供。<br>runtime:runtime 依赖在运行和测试系统的时候需要，但在编译的时候不需要。比如:jdbc 的驱动包。由于运行时需要所以 runtime 范围的依赖会被打包。<br><code>test</code>:test 范围依赖 在编译和运行时都不需要，它们只有在测试编译和测试运行阶段可用， 比如:junit。由于运行时不需要所以 test 范围依赖不会被打包。<br><code>system</code>:system 范围依赖与 provided 类似，但是你必须显式的提供一个对于本地系统中 JAR 文件的路径，需要指定 systemPath 磁盘路径，system 依赖不推荐使用。<br><img src="/images/tech/maven-depedency-scope02.png" alt="maven-dependency-scope"></p>
<p>在 maven-web 工程中测试各个 scop。</p>
<h3 id="测试总结"><a href="#测试总结" class="headerlink" title="测试总结"></a>测试总结</h3><p> 默认引入 的 jar 包 ——- compile 【默认范围 可以不写】(编译、测试、运行 都有效 )<br> servlet-api 、jsp-api ——- provided (编译、测试 有效， 运行时无效 防止和 tomcat 下 jar 冲突)  jdbc 驱动 jar 包 —- runtime (测试、运行 有效 )<br> junit —– test (测试有效)<br>依赖范围由强到弱的顺序是:compile&gt;provided&gt;runtime&gt;test</p>
<h2 id="设置-JDK-编译版本"><a href="#设置-JDK-编译版本" class="headerlink" title="设置 JDK 编译版本"></a>设置 JDK 编译版本</h2><p>本教程使用 jdk1.8，需要设置编译版本为 1.8，这里需要使用 maven 的插件来设置:<br>在 pom.xml 中加入:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="添加-tomcat7-插件"><a href="#添加-tomcat7-插件" class="headerlink" title="添加 tomcat7 插件"></a>添加 tomcat7 插件</h2><p>在 pom 文件中添加如下内容<br><img src="/images/tech/maven-pom-tomcat7.png" alt="maven-pom-tomcat7"><br>此时点击 idea 最右侧 Maven Projects， 就可以看到我们新添加的 tomcat7 插件<br>双击 tomcat7 插件下 tomcat7:run 命令直接运行项目<br><img src="/images/tech/maven-idea-tomcat7-run.png" alt="maven-pom-tomcat7"><br>也可以直接点击如图按钮，手动输入 tomc7:run 命令运行项目<br><img src="/images/tech/maven-idea-type-tomcat7-run.png" alt="maven-pom-tomcat7"><br>点击后弹出如下图窗口<br><img src="/images/tech/maven-idea-tomcat7-run02.png" alt="maven-pom-tomcat7"></p>
<h1 id="Maven-工程运行调试"><a href="#Maven-工程运行调试" class="headerlink" title="Maven 工程运行调试"></a>Maven 工程运行调试</h1><h2 id="端口占用处理"><a href="#端口占用处理" class="headerlink" title="端口占用处理"></a>端口占用处理</h2><p>重新执行 tomcat:run 命令重启工程，重启之前需手动停止 tomcat，否则报下边的错误:<br><img src="/images/tech/maven-port-conflict.png" alt="maven-pom-tomcat7"></p>
<h2 id="断点调试"><a href="#断点调试" class="headerlink" title="断点调试"></a>断点调试</h2><p>点击如图所示选项<br><img src="/images/tech/maven-idea-debug-edit.png" alt="maven-idea-debug-edit"><br>在弹出框中点击如图加号按钮找到 maven 选项<br><img src="/images/tech/maven-idea-debug-option.png" alt="maven-idea-debug-option"><br>在弹出窗口中填写如下信息<br><img src="/images/tech/maven-idea-debug-edit-fill.png" alt="maven-idea-debug-edit-fill"><br>完成后先 Apply 再 OK 结束配置后，可以在主界面找到我们刚才配置的操作名称。<br><img src="/images/tech/maven-idea-debug-window-btn.png" alt="maven-idea-debug-window-btn"><br>如上图红框选中的两个按钮，左侧是正常启动，右侧是 debug 启动。</p>
<h2 id="pom-文件描述"><a href="#pom-文件描述" class="headerlink" title="pom 文件描述"></a>pom 文件描述</h2><p>pom.xml 是 Maven 项目的核心配置文件，位于每个工程的根目录，基本配置如下:</p>
<p><code>&lt;project &gt;</code> :文件的根节点 .<br><code>&lt;modelversion &gt;</code> : pom.xml 使用的对象模型版本<br><code>&lt;groupId &gt;</code> :项目名称，一般写项目的域名<br><code>&lt;artifactId &gt;</code> :模块名称，子项目名或模块名称<br><code>&lt;version &gt;</code> :产品的版本号 .<br><code>&lt;packaging &gt;</code> :打包类型，一般有 jar、war、pom 等<br><code>&lt;name &gt;</code> :项目的显示名，常用于 Maven 生成的文档。<br><code>&lt;description &gt;</code> :项目描述，常用于 Maven 生成的文档<br><code>&lt;dependencies&gt;</code> :项目依赖构件配置，配置项目依赖构件的坐标<br><code>&lt;build&gt;</code> :项目构建配置，配置编译、运行插件等。</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Java/">Java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Java/">Java</a><a href="/tags/Web/">Web</a><a href="/tags/Maven/">Maven</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://hashcode.cn/2019/08/15/java-maven-base/" data-title="Maven 使用快速入门 | techbird blog" data-tsina="6488657373" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2020/01/02/daily-2020-0102/" title="写在2019的边上">
  <strong>上一篇：</strong><br/>
  <span>
  写在2019的边上</span>
</a>
</div>


<div class="next">
<a href="/2019/08/13/web-redis-base/"  title="Redis 使用快速入门">
 <strong>下一篇：</strong><br/> 
 <span>Redis 使用快速入门
</span>
</a>
</div>

</nav>

	

<section id="comments" class="comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
  </div>
</section>



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#概念"><span class="toc-number">1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#安装-Maven-for-mac"><span class="toc-number">2.</span> <span class="toc-text">安装 Maven for mac</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#下载-Maven"><span class="toc-number">2.1.</span> <span class="toc-text">下载 Maven</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#将-Maven-添加到环境变量"><span class="toc-number">2.2.</span> <span class="toc-text">将 Maven 添加到环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#测试-Maven-是否安装成功"><span class="toc-number">2.3.</span> <span class="toc-text">测试 Maven 是否安装成功</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven-仓库"><span class="toc-number">3.</span> <span class="toc-text">Maven 仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#本地仓库"><span class="toc-number">3.1.</span> <span class="toc-text">本地仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#远程仓库"><span class="toc-number">3.2.</span> <span class="toc-text">远程仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#中央仓库"><span class="toc-number">3.3.</span> <span class="toc-text">中央仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置仓库路径"><span class="toc-number">3.4.</span> <span class="toc-text">配置仓库路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#修改-settings-xml"><span class="toc-number">3.5.</span> <span class="toc-text">修改 settings.xml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-项目结构"><span class="toc-number">3.6.</span> <span class="toc-text">Maven 项目结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven常用命令"><span class="toc-number">4.</span> <span class="toc-text">Maven常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-compile"><span class="toc-number">4.1.</span> <span class="toc-text">mvn compile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-clean"><span class="toc-number">4.2.</span> <span class="toc-text">mvn clean</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-test"><span class="toc-number">4.3.</span> <span class="toc-text">mvn test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-package"><span class="toc-number">4.4.</span> <span class="toc-text">mvn package</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-install"><span class="toc-number">4.5.</span> <span class="toc-text">mvn install</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvn-组合命令"><span class="toc-number">4.6.</span> <span class="toc-text">mvn 组合命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven-的核心概念"><span class="toc-number">5.</span> <span class="toc-text">Maven 的核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#坐标的查找"><span class="toc-number">5.1.</span> <span class="toc-text">坐标的查找</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#依赖管理"><span class="toc-number">5.2.</span> <span class="toc-text">依赖管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#scope-依赖范围"><span class="toc-number">5.2.1.</span> <span class="toc-text">scope 依赖范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#依赖传递"><span class="toc-number">5.2.2.</span> <span class="toc-text">依赖传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#依赖冲突"><span class="toc-number">5.2.3.</span> <span class="toc-text">依赖冲突</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#可选依赖"><span class="toc-number">5.2.4.</span> <span class="toc-text">可选依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#排除依赖"><span class="toc-number">5.2.5.</span> <span class="toc-text">排除依赖</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#生命周期"><span class="toc-number">5.3.</span> <span class="toc-text">生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Clean生命周期：清理项目"><span class="toc-number">5.3.1.</span> <span class="toc-text">Clean生命周期：清理项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Default生命周期：构造项目"><span class="toc-number">5.3.2.</span> <span class="toc-text">Default生命周期：构造项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-工程的运行"><span class="toc-number">5.4.</span> <span class="toc-text">Maven 工程的运行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven-的概念模型"><span class="toc-number">5.5.</span> <span class="toc-text">Maven 的概念模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#项目对象模型-Project-Object-Model"><span class="toc-number">5.5.1.</span> <span class="toc-text">项目对象模型 (Project Object Model)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#依赖管理系统-Dependency-Management-System"><span class="toc-number">5.5.2.</span> <span class="toc-text">依赖管理系统(Dependency Management System)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一个项目生命周期-Project-Lifecycle"><span class="toc-number">5.5.3.</span> <span class="toc-text">一个项目生命周期(Project Lifecycle)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一组标准集合"><span class="toc-number">5.5.4.</span> <span class="toc-text">一组标准集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#插件-plugin-目标-goal"><span class="toc-number">5.5.5.</span> <span class="toc-text">插件(plugin)目标(goal)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#IDEA-开发-Maven-项目"><span class="toc-number">6.</span> <span class="toc-text">IDEA 开发 Maven 项目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA-的-Maven-配置"><span class="toc-number">6.1.</span> <span class="toc-text">IDEA 的 Maven 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA-中创建一个-Maven-的-web-工程"><span class="toc-number">6.2.</span> <span class="toc-text">IDEA 中创建一个 Maven 的 web 工程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个-Servlet"><span class="toc-number">6.2.1.</span> <span class="toc-text">创建一个 Servlet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#在-pom-xml-文件添加坐标"><span class="toc-number">6.2.2.</span> <span class="toc-text">在 pom.xml 文件添加坐标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#依赖范围"><span class="toc-number">6.3.</span> <span class="toc-text">依赖范围</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#测试总结"><span class="toc-number">6.3.1.</span> <span class="toc-text">测试总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置-JDK-编译版本"><span class="toc-number">6.4.</span> <span class="toc-text">设置 JDK 编译版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加-tomcat7-插件"><span class="toc-number">6.5.</span> <span class="toc-text">添加 tomcat7 插件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven-工程运行调试"><span class="toc-number">7.</span> <span class="toc-text">Maven 工程运行调试</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#端口占用处理"><span class="toc-number">7.1.</span> <span class="toc-text">端口占用处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#断点调试"><span class="toc-number">7.2.</span> <span class="toc-text">断点调试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pom-文件描述"><span class="toc-number">7.3.</span> <span class="toc-text">pom 文件描述</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github Card</p>
<div class="github-card" data-github="qiudengqiang" data-theme="medium"></div>
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>



  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/Daily/" title="Daily">Daily<sup>15</sup></a></li>
		  
		
		  
			<li><a href="/categories/DataBase/" title="DataBase">DataBase<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java/" title="Java">Java<sup>9</sup></a></li>
		  
		
		  
			<li><a href="/categories/Journey/" title="Journey">Journey<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/MySQL/" title="MySQL">MySQL<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/Objc/" title="Objc">Objc<sup>13</sup></a></li>
		  
		
		  
			<li><a href="/categories/Readed/" title="Readed">Readed<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/VSCode/" title="VSCode">VSCode<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Web/" title="Web">Web<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Xcode/" title="Xcode">Xcode<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>16</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/iOS/" title="iOS">iOS<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/Daily/" title="Daily">Daily<sup>15</sup></a></li>
			
		
			
				<li><a href="/tags/Objc/" title="Objc">Objc<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Readed/" title="Readed">Readed<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Web/" title="Web">Web<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Thread/" title="Thread">Thread<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Network/" title="Network">Network<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Journey/" title="Journey">Journey<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/MySQL/" title="MySQL">MySQL<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Xcode/" title="Xcode">Xcode<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Category/" title="Category">Category<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/keywords/" title="keywords">keywords<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Idea/" title="Idea">Idea<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/KVC/" title="KVC">KVC<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/KVO/" title="KVO">KVO<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/NSThread/" title="NSThread">NSThread<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/NSURLRequest/" title="NSURLRequest">NSURLRequest<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/NSURLResponse/" title="NSURLResponse">NSURLResponse<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/NSURLSession/" title="NSURLSession">NSURLSession<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="120" class="share_self"  frameborder="0" scrolling="no" src="https://widget.weibo.com/weiboshow/index.php?language=&width=0&height=120&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=6488657373&verifier=f458bf46&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> You can&#39;t connect the dots looking forward <br/>
			You can only connect them looking backwards.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/6488657373" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/qiudengqiang" target="_blank" class="icon-github" title="github"></a>
		
		
		
		<a href="https://twitter.com/murendless" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		
		
		
		
		
		<a href="mailto:qiudengqiang@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2022 
		
		<a href="/about" target="_blank" title="techbird">techbird</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>




<script type="text/javascript">

var disqus_shortname = 'techbird-1';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>








<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
